<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Final Exam Infographic - ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏™‡∏≠‡∏ö‡∏õ‡∏•‡∏≤‡∏¢‡∏†‡∏≤‡∏Ñ</title>
    
    <!-- Google Fonts: Prompt (Thai Body) & Kanit (Headings) -->
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@500;700&family=Prompt:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- FontAwesome for Icons (NO SVG graphics used directly) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Chosen Palette: "Energetic & Playful" -->
    <!-- 
        Primary Dark: #2D3748 (Slate)
        Vibrant Red/Coral: #FF6B6B
        Vibrant Teal: #4ECDC4
        Vibrant Yellow: #FFE66D
        Accent Blue: #1A535C
        Background: #F7FFF7 (Mint Cream / White)
    -->

    <style>
        body {
            font-family: 'Prompt', sans-serif;
            background-color: #F7FFF7;
            color: #2D3748;
        }
        
        h1, h2, h3, h4, .kpi-number {
            font-family: 'Kanit', sans-serif;
        }

        /* Chart Container Styling - MANDATORY */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        
        @media (max-width: 640px) {
            .chart-container {
                height: 250px;
            }
        }

        /* Custom Timeline Styles */
        .timeline-item {
            position: relative;
            padding-left: 2rem;
            border-left: 4px solid #e2e8f0;
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -10px;
            top: 10px;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background-color: #fff;
            border: 4px solid #4ECDC4;
        }

        .timeline-item.break::before {
            border-color: #FF6B6B;
        }

        .timeline-item:last-child {
            border-left-color: transparent;
        }

        .active-tab {
            background-color: #1A535C;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        .inactive-tab {
            background-color: white;
            color: #1A535C;
            border: 1px solid #e2e8f0;
        }
        
        .inactive-tab:hover {
            background-color: #f1f5f9;
        }

        /* Card Hover Effects */
        .info-card {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .info-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
    </style>

    <!-- Application Structure Plan:
        1. Hero Section: High-energy title and summary of the goal (3-Day Battle Plan).
        2. KPI Dashboard: 3 Key metrics (Days, Subjects, Total Hours) to give an instant overview.
        3. Strategic Analysis (Charts):
           - Subject Composition (Doughnut): To show which categories dominate the schedule.
           - Daily Workload (Stacked Bar): To compare Study vs. Break time, highlighting the endurance needed.
        4. The Battle Timeline (Interactive Schedule): 
           - Tabbed interface for the 3 specific dates.
           - Vertical timeline flow for easy mobile scrolling.
           - Detailed cards for each subject/slot.
        5. Tactic: Pomodoro: A visual explanation of the 50/10 rule used in the schedule.
    -->

    <!-- Visualization & Content Choices:
        - Chart 1 (Doughnut): 'Subject Weight'. Goal: Compare composition. Justification: Easy to see that Science/Math is a huge chunk. Library: Chart.js (Canvas).
        - Chart 2 (Stacked Bar): 'Study vs Break Balance'. Goal: Compare daily load. Justification: Shows the intensity of Day 1 vs Day 3. Library: Chart.js (Canvas).
        - Timeline: HTML/Tailwind. Goal: Process Flow. Justification: Linear time data is best consumed vertically on mobile.
        - Icons: FontAwesome. Goal: Inform/Decorate. NO SVG used.
    -->
    
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="antialiased">

    <!-- Hero Section -->
    <header class="bg-[#1A535C] text-white py-12 shadow-lg">
        <div class="container mx-auto px-4 text-center">
            <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
            <img src="https://lh3.googleusercontent.com/d/1hqFLC1j7rQLz6XkMruMle6t2c33l6LkM" alt="‡πÇ‡∏•‡πÇ‡∏Å‡πâ" class="h-24 md:h-32 mx-auto mb-6 object-contain drop-shadow-xl">
            
            <h1 class="text-3xl md:text-5xl font-extrabold mb-4 tracking-tight">üöÄ FINAL EXAM BATTLE PLAN</h1>
            <p class="text-xl md:text-2xl font-light text-[#4ECDC4]">‡πÅ‡∏ú‡∏ô‡∏û‡∏¥‡∏ä‡∏¥‡∏ï‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡∏õ‡∏•‡∏≤‡∏¢‡∏†‡∏≤‡∏Ñ: 3 ‡∏ß‡∏±‡∏ô‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢</p>
            <div class="mt-6 flex justify-center gap-4 flex-wrap">
                <span class="bg-[#FF6B6B] px-4 py-1 rounded-full text-sm font-bold shadow-md">22 ‡∏Å.‡∏û.</span>
                <span class="bg-[#FF6B6B] px-4 py-1 rounded-full text-sm font-bold shadow-md">28 ‡∏Å.‡∏û.</span>
                <span class="bg-[#FF6B6B] px-4 py-1 rounded-full text-sm font-bold shadow-md">1 ‡∏°‡∏µ.‡∏Ñ.</span>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8 max-w-6xl">

        <!-- Introduction -->
        <section class="mb-12 text-center max-w-3xl mx-auto">
            <h2 class="text-2xl font-bold text-[#1A535C] mb-4">üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤</h2>
            <p class="text-lg text-gray-600 leading-relaxed">
                ‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏™‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÅ‡∏Ñ‡πà‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠ ‡πÅ‡∏ï‡πà‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡∏∞‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô ‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡πÄ‡∏ß‡∏•‡∏≤ 3 ‡∏ß‡∏±‡∏ô‡∏´‡∏•‡∏±‡∏Å (22 ‡∏Å.‡∏û., 28 ‡∏Å.‡∏û., 1 ‡∏°‡∏µ.‡∏Ñ.) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏±‡πâ‡∏á 16 ‡∏ß‡∏¥‡∏ä‡∏≤ ‡πÅ‡∏ú‡∏ô‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ <strong>Pomodoro</strong> (‡πÇ‡∏ü‡∏Å‡∏±‡∏™ 50 / ‡∏û‡∏±‡∏Å 10) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏°‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏™‡∏î‡∏ä‡∏∑‡πà‡∏ô‡∏ï‡∏•‡∏≠‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á
            </p>
        </section>

        <!-- KPI Grid -->
        <section class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
            <div class="bg-white p-6 rounded-xl shadow-md border-b-4 border-[#FF6B6B] info-card text-center">
                <div class="text-[#FF6B6B] text-4xl mb-2"><i class="fa-solid fa-calendar-day"></i></div>
                <div class="text-4xl font-bold text-gray-800 kpi-number">3</div>
                <div class="text-gray-500 font-semibold uppercase tracking-wide">‡∏ß‡∏±‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏±‡∏ß</div>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-md border-b-4 border-[#4ECDC4] info-card text-center">
                <div class="text-[#4ECDC4] text-4xl mb-2"><i class="fa-solid fa-book-open"></i></div>
                <div class="text-4xl font-bold text-gray-800 kpi-number">16</div>
                <div class="text-gray-500 font-semibold uppercase tracking-wide">‡∏ß‡∏¥‡∏ä‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏¥‡∏ä‡∏¥‡∏ï</div>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-md border-b-4 border-[#FFE66D] info-card text-center">
                <div class="text-[#FFE66D] text-4xl mb-2"><i class="fa-solid fa-clock"></i></div>
                <div class="text-4xl font-bold text-gray-800 kpi-number">15+</div>
                <div class="text-gray-500 font-semibold uppercase tracking-wide">‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏ß‡∏°</div>
            </div>
        </section>

        <!-- Charts Section -->
        <section class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-16">
            
            <!-- Chart 1: Subject Composition -->
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h3 class="text-xl font-bold text-[#1A535C] mb-2 border-l-4 border-[#4ECDC4] pl-3">üìä ‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ (Subject Mix)</h3>
                <p class="text-sm text-gray-500 mb-6">‡∏Å‡∏£‡∏≤‡∏ü‡∏ô‡∏µ‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ß‡∏¥‡∏ä‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÑ‡∏´‡∏ô‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (‡∏ß‡∏¥‡∏ó‡∏¢‡πå/‡∏Ñ‡∏ì‡∏¥‡∏ï ‡∏Å‡∏¥‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏¢‡∏≠‡∏∞‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)</p>
                <div class="chart-container">
                    <canvas id="subjectChart"></canvas>
                </div>
            </div>

            <!-- Chart 2: Daily Workload -->
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h3 class="text-xl font-bold text-[#1A535C] mb-2 border-l-4 border-[#FF6B6B] pl-3">‚öñÔ∏è ‡∏™‡∏°‡∏î‡∏∏‡∏•‡πÄ‡∏ß‡∏•‡∏≤ (Workload Balance)</h3>
                <p class="text-sm text-gray-500 mb-6">‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô vs ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏û‡∏±‡∏Å‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ß‡∏±‡∏ô ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 ‡∏à‡∏∞‡∏´‡∏ô‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡∏™‡πà‡∏ß‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3 ‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ö‡∏≤‡∏•‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏™‡∏≠‡∏ö</p>
                <div class="chart-container">
                    <canvas id="balanceChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Interactive Timeline Section -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold text-center text-[#1A535C] mb-8">üìÖ Timeline ‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠</h2>
            
            <!-- Tabs -->
            <div class="flex justify-center mb-8 gap-2 md:gap-4">
                <button onclick="switchTab('day1')" id="tab-day1" class="active-tab px-6 py-3 rounded-lg font-bold transition-all duration-300">
                    22 ‡∏Å.‡∏û. (‡∏ß‡∏¥‡∏ó‡∏¢‡πå-‡∏Ñ‡∏ì‡∏¥‡∏ï)
                </button>
                <button onclick="switchTab('day2')" id="tab-day2" class="inactive-tab px-6 py-3 rounded-lg font-bold transition-all duration-300">
                    28 ‡∏Å.‡∏û. (‡∏†‡∏≤‡∏©‡∏≤-‡∏™‡∏±‡∏á‡∏Ñ‡∏°)
                </button>
                <button onclick="switchTab('day3')" id="tab-day3" class="inactive-tab px-6 py-3 rounded-lg font-bold transition-all duration-300">
                    1 ‡∏°‡∏µ.‡∏Ñ. (‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏Å)
                </button>
            </div>

            <!-- Timeline Content Container -->
            <div class="bg-white p-4 md:p-8 rounded-2xl shadow-xl border border-gray-100 min-h-[500px]">
                <div id="timeline-container" class="max-w-3xl mx-auto">
                    <!-- Dynamic JS content loads here -->
                </div>
            </div>
        </section>

        <!-- Pomodoro Explainer -->
        <section class="bg-[#1A535C] text-white rounded-2xl p-8 mb-12 shadow-xl relative overflow-hidden">
            <div class="relative z-10 text-center">
                <h2 class="text-2xl md:text-3xl font-bold mb-6">üçÖ ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏•‡∏±‡∏ö: Pomodoro</h2>
                <p class="text-lg text-gray-200 mb-8 max-w-2xl mx-auto">
                    ‡∏≠‡∏¢‡πà‡∏≤‡∏≠‡πà‡∏≤‡∏ô‡∏£‡∏ß‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏à‡∏ô‡∏™‡∏°‡∏≠‡∏á‡∏•‡πâ‡∏≤! ‡πÉ‡∏ä‡πâ‡∏™‡∏π‡∏ï‡∏£ <strong>50/10</strong> ‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå <i class="fa-solid fa-stopwatch text-[#FFE66D]"></i>
                </p>
                
                <div class="flex flex-col md:flex-row justify-center items-center gap-4 md:gap-8">
                    <div class="bg-white text-[#1A535C] px-8 py-6 rounded-xl w-full md:w-64 text-center transform hover:scale-105 transition-transform">
                        <div class="text-4xl font-bold text-[#FF6B6B] mb-2">50 ‡∏ô‡∏≤‡∏ó‡∏µ</div>
                        <div class="font-bold uppercase">‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠</div>
                        <div class="text-xs text-gray-400 mt-2">‡∏´‡πâ‡∏≤‡∏°‡∏à‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠</div>
                    </div>
                    
                    <div class="text-[#FFE66D] text-3xl animate-pulse">
                        <i class="fa-solid fa-arrow-right hidden md:block"></i>
                        <i class="fa-solid fa-arrow-down md:hidden"></i>
                    </div>

                    <div class="bg-white text-[#1A535C] px-8 py-6 rounded-xl w-full md:w-64 text-center transform hover:scale-105 transition-transform">
                        <div class="text-4xl font-bold text-[#4ECDC4] mb-2">10 ‡∏ô‡∏≤‡∏ó‡∏µ</div>
                        <div class="font-bold uppercase">‡∏û‡∏±‡∏Å‡πÄ‡∏ö‡∏£‡∏Å</div>
                        <div class="text-xs text-gray-400 mt-2">‡∏¢‡∏∑‡∏î‡πÄ‡∏™‡πâ‡∏ô‡∏¢‡∏∑‡∏î‡∏™‡∏≤‡∏¢</div>
                    </div>
                </div>
            </div>
            <!-- Decorative circle -->
            <div class="absolute -top-20 -right-20 w-64 h-64 bg-[#4ECDC4] rounded-full opacity-20"></div>
            <div class="absolute -bottom-20 -left-20 w-64 h-64 bg-[#FF6B6B] rounded-full opacity-20"></div>
        </section>

    </main>

    <footer class="bg-gray-100 py-8 text-center text-gray-500 text-sm">
        <p>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
        <p class="mt-2 text-xs">Based on data from study_schedule.md</p>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- Data Handling ---
        
        const dailySchedule = {
            day1: [
                { time: "09:00 - 10:30", subject: "‡∏ä‡∏µ‡∏ß‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤ (‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°)", type: "study", note: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥/‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢", category: "Science" },
                { time: "10:30 - 12:00", subject: "‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå (‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°)", type: "study", note: "‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì/‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏¢‡∏≤‡∏Å", category: "Math" },
                { time: "12:00 - 13:30", subject: "‡∏û‡∏±‡∏Å‡∏ó‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß", type: "break", note: "‡πÄ‡∏ï‡∏¥‡∏°‡∏û‡∏•‡∏±‡∏á", category: "Break" },
                { time: "13:30 - 15:15", subject: "‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå (‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°)", type: "study", note: "‡∏™‡∏π‡∏ï‡∏£/‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà", category: "Physics" },
                { time: "15:15 - 16:45", subject: "‡πÇ‡∏•‡∏Å ‡∏î‡∏≤‡∏£‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå", type: "study", note: "‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÇ‡∏•‡∏Å", category: "Science" },
                { time: "16:45 - 19:00", subject: "‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô", type: "break", note: "‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢/‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥", category: "Break" },
                { time: "19:00 - 20:00", subject: "‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ (‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô)", type: "study", note: "‡∏´‡∏•‡∏±‡∏Å‡∏†‡∏≤‡∏©‡∏≤", category: "Language" },
                { time: "20:00 - 21:00", subject: "‡∏™‡∏∏‡∏Ç‡∏®‡∏∂‡∏Å‡∏©‡∏≤", type: "study", note: "‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û/‡∏™‡∏∏‡∏Ç‡∏≠‡∏ô‡∏≤‡∏°‡∏±‡∏¢", category: "General" }
            ],
            day2: [
                { time: "09:00 - 10:30", subject: "‡πÄ‡∏Ñ‡∏°‡∏µ (‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°)", type: "study", note: "‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ò‡∏≤‡∏ï‡∏∏/‡∏õ‡∏è‡∏¥‡∏Å‡∏¥‡∏£‡∏¥‡∏¢‡∏≤", category: "Science" },
                { time: "10:30 - 12:00", subject: "‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå (‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô)", type: "study", note: "‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥/‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô", category: "Math" },
                { time: "12:00 - 13:00", subject: "‡∏û‡∏±‡∏Å‡∏ó‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß", type: "break", note: "‡πÄ‡∏ï‡∏¥‡∏°‡∏û‡∏•‡∏±‡∏á", category: "Break" },
                { time: "13:00 - 14:30", subject: "‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© (‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô)", type: "study", note: "Grammar", category: "Language" },
                { time: "14:30 - 16:00", subject: "‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© (‡∏≠‡πà‡∏≤‡∏ô-‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô)", type: "study", note: "Reading/Writing", category: "Language" },
                { time: "16:00 - 19:00", subject: "‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô", type: "break", note: "‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢", category: "Break" },
                { time: "19:00 - 20:00", subject: "‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤", type: "study", note: "‡∏®‡∏≤‡∏™‡∏ô‡∏≤/‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á", category: "Social" },
                { time: "20:00 - 21:00", subject: "‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏≠‡∏≤‡∏ä‡∏µ‡∏û", type: "study", note: "‡∏á‡∏≤‡∏ô‡∏ä‡πà‡∏≤‡∏á/‡∏á‡∏≤‡∏ô‡∏ö‡πâ‡∏≤‡∏ô", category: "General" }
            ],
            day3: [
                { time: "09:00 - 10:30", subject: "‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå", type: "study", note: "‡πÑ‡∏ó‡∏°‡πå‡πÑ‡∏•‡∏ô‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç", category: "Social" },
                { time: "10:30 - 12:00", subject: "‡∏à‡∏µ‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå", type: "study", note: "‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå/‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°", category: "Language" },
                { time: "12:00 - 13:00", subject: "‡∏û‡∏±‡∏Å‡∏ó‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß", type: "break", note: "‡πÄ‡∏ï‡∏¥‡∏°‡∏û‡∏•‡∏±‡∏á", category: "Break" },
                { time: "13:00 - 14:30", subject: "‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå (‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°) - ‡∏£‡∏≠‡∏ö‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏Å", type: "study", note: "‡∏ó‡∏ß‡∏ô‡∏à‡∏∏‡∏î‡∏≠‡πà‡∏≠‡∏ô", category: "Physics" },
                { time: "14:30 - 15:30", subject: "‡∏®‡∏¥‡∏•‡∏õ‡∏∞ & ‡πÅ‡∏ô‡∏∞‡πÅ‡∏ô‡∏ß", type: "study", note: "‡∏≠‡πà‡∏≤‡∏ô‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢", category: "General" },
                { time: "15:30 Onwards", subject: "‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏£‡∏ß‡∏ö‡∏¢‡∏≠‡∏î (Review)", type: "review", note: "‡∏´‡πâ‡∏≤‡∏°‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà ‡πÄ‡∏ô‡πâ‡∏ô‡∏™‡∏£‡∏∏‡∏õ", category: "Review" }
            ]
        };

        // --- Chart.js Configuration & Utilities ---
        
        // 1. Label Wrapping Helper
        function wrapLabel(str, maxChars) {
            if (str.length <= maxChars) return str;
            const words = str.split(' ');
            const lines = [];
            let currentLine = words[0];

            for (let i = 1; i < words.length; i++) {
                if (currentLine.length + 1 + words[i].length <= maxChars) {
                    currentLine += ' ' + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        // 2. Tooltip Config Helper
        const commonTooltipOptions = {
            callbacks: {
                title: function(tooltipItems) {
                    const item = tooltipItems[0];
                    let label = item.chart.data.labels[item.dataIndex];
                    if (Array.isArray(label)) {
                        return label.join(' ');
                    } else {
                        return label;
                    }
                }
            },
            backgroundColor: 'rgba(26, 83, 92, 0.9)',
            titleFont: { family: 'Prompt', size: 14 },
            bodyFont: { family: 'Prompt', size: 12 },
            padding: 12,
            cornerRadius: 8
        };

        // --- Chart Initialization ---

        function initCharts() {
            // Chart 1: Subject Composition
            const ctxSubject = document.getElementById('subjectChart').getContext('2d');
            new Chart(ctxSubject, {
                type: 'doughnut',
                data: {
                    labels: ['‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå (Bio/Chem/World)', '‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå (Physics)', '‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå (Math)', '‡∏†‡∏≤‡∏©‡∏≤ (Thai/Eng/Chi)', '‡∏™‡∏±‡∏á‡∏Ñ‡∏° (Social/Hist)', '‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ (Gen/Art)'],
                    datasets: [{
                        data: [3, 2, 2, 4, 2, 3], // Approximate counts based on schedule
                        backgroundColor: [
                            '#4ECDC4', // Sci - Teal
                            '#1A535C', // Phys - Dark Blue
                            '#FF6B6B', // Math - Red
                            '#FFE66D', // Lang - Yellow
                            '#F9A8D4', // Soc - Pink
                            '#CBD5E1'  // Gen - Grey
                        ],
                        borderWidth: 2,
                        borderColor: '#ffffff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'right', labels: { font: { family: 'Prompt' } } },
                        tooltip: commonTooltipOptions
                    },
                    cutout: '60%'
                }
            });

            // Chart 2: Workload Balance (Estimated Hours)
            const ctxBalance = document.getElementById('balanceChart').getContext('2d');
            new Chart(ctxBalance, {
                type: 'bar',
                data: {
                    labels: ['22 ‡∏Å.‡∏û.', '28 ‡∏Å.‡∏û.', '1 ‡∏°‡∏µ.‡∏Ñ.'],
                    datasets: [
                        {
                            label: '‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á)',
                            data: [6.5, 6, 4], // Estimated active study hours
                            backgroundColor: '#FF6B6B',
                            borderRadius: 6
                        },
                        {
                            label: '‡∏û‡∏±‡∏Å (‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á)',
                            data: [3.5, 4, 2], // Estimated break hours (excluding sleep)
                            backgroundColor: '#4ECDC4',
                            borderRadius: 6
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: { stacked: true, grid: { display: false } },
                        y: { stacked: true, beginAtZero: true }
                    },
                    plugins: {
                        legend: { position: 'bottom', labels: { font: { family: 'Prompt' } } },
                        tooltip: commonTooltipOptions
                    }
                }
            });
        }

        // --- Timeline Logic ---

        function switchTab(dayId) {
            // Update Tab UI
            ['day1', 'day2', 'day3'].forEach(id => {
                const btn = document.getElementById('tab-' + id);
                if (id === dayId) {
                    btn.classList.add('active-tab');
                    btn.classList.remove('inactive-tab');
                } else {
                    btn.classList.add('inactive-tab');
                    btn.classList.remove('active-tab');
                }
            });

            // Render Timeline
            renderTimeline(dayId);
        }

        function renderTimeline(dayId) {
            const container = document.getElementById('timeline-container');
            const data = dailySchedule[dayId];
            
            let html = '<div class="space-y-6">';
            
            data.forEach(item => {
                const isBreak = item.type === 'break';
                const isReview = item.type === 'review';
                
                // Dynamic Styles based on type
                let borderColor = isBreak ? '#4ECDC4' : (isReview ? '#1A535C' : '#FF6B6B');
                let icon = isBreak ? 'fa-mug-hot' : (isReview ? 'fa-star' : 'fa-book');
                let bgClass = isBreak ? 'bg-teal-50' : (isReview ? 'bg-slate-100' : 'bg-white');
                let textClass = isBreak ? 'text-teal-700' : 'text-gray-800';

                html += `
                    <div class="timeline-item ${isBreak ? 'break' : ''}">
                        <div class="p-4 rounded-lg shadow-sm border border-gray-100 ${bgClass} info-card flex flex-col md:flex-row md:items-center justify-between gap-4">
                            
                            <!-- Time & Subject -->
                            <div class="flex-1">
                                <span class="inline-block px-2 py-1 text-xs font-bold rounded mb-2 ${isBreak ? 'bg-teal-200 text-teal-800' : 'bg-red-100 text-red-800'}">
                                    ${item.time}
                                </span>
                                <h4 class="text-lg font-bold ${textClass}">
                                    <i class="fa-solid ${icon} mr-2 opacity-70"></i>${item.subject}
                                </h4>
                            </div>

                            <!-- Note & Category -->
                            <div class="md:text-right">
                                <span class="block text-sm text-gray-500 font-medium mb-1">${item.category}</span>
                                <span class="text-sm text-gray-400 italic">${item.note}</span>
                            </div>
                            
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            container.innerHTML = html;
        }

        // --- Initialization ---
        window.addEventListener('DOMContentLoaded', () => {
            initCharts();
            switchTab('day1'); // Load Day 1 by default
        });

    </script>
</body>
</html>
